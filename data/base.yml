states: [] # template file
worlds:
  - locale:
      languages:
        en:
          actor.step.look.none: |-
            You see nothing.
          actor.step.look.room.you: |-
            You are a {{actor.meta.name}}: {{actor.meta.desc}} ({{actor.meta.id}}).
          actor.step.look.room.seen: |-
            You are in {{room.meta.name}}: {{room.meta.desc}} ({{room.meta.id}}).
          actor.step.look.room.inventory: |-
            You are holding a {{item.meta.name}}: {{item.meta.desc}} ({{item.meta.desc}}).
          actor.step.look.room.portal: |-
            A {{portal.name}} leads to the {{portal.sourceGroup}} ({{portal.dest}}).
          actor.step.look.actor.seen: |-
            A {{actor.meta.name}} is in the room: {{actor.meta.desc}} ({{actor.meta.id}}).
          actor.step.look.actor.dead: |-
            The {{actor.meta.name}} is dead!
          actor.step.look.item.seen: |-
            You see a {{item.meta.name}}: {{item.meta.desc}} ({{item.meta.id}}).
          actor.step.hit.type: |-
            {{cmd.target}} is not an actor!
          actor.step.hit.item: |-
            You cannot hit {{target.meta.name}}, you are not holding anything!

    meta:
      id: test
      name:
        base: test world
      desc:
        base: this is a test adventure
    start:
      actors:
        - id: actor-bat
        - id: actor-goblin
      rooms:
        - id: room-dungeon
        - id: room-cave
    templates:
      actors:
        - base:
            meta:
              id: actor-bat
              name:
                base: Bat
              desc:
                base: flying bat
            items:
              - id: item-bat-teeth
            skills: !map {}
            stats: !map
              health:
                max: 50
                min: 30
            slots: !map
              get:
                base: actor-get
              hit:
                base: actor-hit
              step:
                base: actor-step
        - base:
            meta:
              id: actor-goblin
              name:
                base: Goblin
              desc:
                base: ((slimy|smelly)|goblin)
            items:
              - id: item-sword
            skills: !map {}
            stats: !map
              health:
                max: 20
                min: 14
            slots: !map
              get:
                base: actor-get
              hit:
                base: actor-hit
              step:
                base: actor-step
      items:
        - base:
            meta:
              id: item-bat-teeth
              name:
                base: Bat Teeth
              desc:
                base: sharp bat teeth
            slots: !map {}
            stats: !map {}
            verbs: !map {}
        - base:
            meta:
              id: item-sword
              name:
                base: Sword
              desc:
                base: short sword
            slots: !map {}
            stats: !map {}
            verbs: !map {}
      rooms:
        # TODO: add moist marsh
        - base:
            meta:
              id: room-dungeon
              name:
                base: Dungeon
              desc:
                base: damp dungeon
            actors:
              - id: actor-goblin
              - id: actor-goblin
                chance: 10
            items: []
            portals:
              - sourceGroup:
                  base: west
                targetGroup:
                  base: east
                name:
                  base: window
                dest:
                  base: room-cave
              - sourceGroup:
                  base: east
                targetGroup:
                  base: west
                name:
                  base: door
                dest:
                  base: room-cave
            slots: !map
              step:
                base: room-step
            verbs: !map {}
        - base:
            meta:
              id: room-cave
              name:
                base: Cave
              desc:
                base: clammy cave
            actors:
              - id: actor-bat
                chance: 25
            items:
              - id: item-sword
                chance: 50
            portals:
              - sourceGroup:
                  base: west
                targetGroup:
                  base: east
                name:
                  base: door
                dest:
                  base: room-cave
              - sourceGroup:
                  base: east
                targetGroup:
                  base: west
                name:
                  base: window
                dest:
                  base: room-dungeon
            slots: !map
              step:
                base: room-step
            verbs: !map {}