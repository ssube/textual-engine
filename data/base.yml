states: [] # template file
worlds:
  - meta:
      id: test
      name:
        base: test world
      desc:
        base: this is a test adventure
    start:
      actors:
        - id: actor-bat
        - id: actor-goblin
      rooms:
        - id: room-dungeon
        - id: room-cave
    templates:
      actors:
        - base:
            meta:
              id: actor-bat
              name:
                base: Bat
              desc:
                base: flying bat
            items:
              - id: item-bat-teeth
            skills: !map {}
            stats: !map
              health:
                max: 50
                min: 30
            slots: !map
              get:
                base: actor-get
              hit:
                base: actor-hit
              step:
                base: actor-step
        - base:
            meta:
              id: actor-goblin
              name:
                base: Goblin
              desc:
                base: ((slimy|smelly)|goblin)
            items:
              - id: item-sword
            skills: !map {}
            stats: !map
              health:
                max: 20
                min: 14
            slots: !map
              get:
                base: actor-get
              hit:
                base: actor-hit
              step:
                base: actor-step
      items:
        - base:
            meta:
              id: item-bat-teeth
              name:
                base: Bat Teeth
              desc:
                base: sharp bat teeth
            slots: !map {}
            stats: !map {}
            verbs: !map {}
        - base:
            meta:
              id: item-sword
              name:
                base: Sword
              desc:
                base: short sword
            slots: !map {}
            stats: !map {}
            verbs: !map {}
      rooms:
        # TODO: add moist marsh
        - base:
            meta:
              id: room-dungeon
              name:
                base: Dungeon
              desc:
                base: damp dungeon
            actors:
              - id: actor-goblin
              - id: actor-goblin
                chance: 10
            items: []
            portals:
              - sourceGroup:
                  base: west
                targetGroup:
                  base: east
                name:
                  base: window
                dest:
                  base: room-cave
              - sourceGroup:
                  base: east
                targetGroup:
                  base: west
                name:
                  base: door
                dest:
                  base: room-cave
            slots: !map
              step:
                base: room-step
            verbs: !map {}
        - base:
            meta:
              id: room-cave
              name:
                base: Cave
              desc:
                base: clammy cave
            actors:
              - id: actor-bat
                chance: 25
            items:
              - id: item-sword
            portals:
              - sourceGroup:
                  base: west
                targetGroup:
                  base: east
                name:
                  base: door
                dest:
                  base: room-cave
              - sourceGroup:
                  base: east
                targetGroup:
                  base: west
                name:
                  base: window
                dest:
                  base: room-dungeon
            slots: !map
              step:
                base: room-step
            verbs: !map {}